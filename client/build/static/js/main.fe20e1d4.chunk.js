(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),s=n(12),c=n.n(s),r=n(8),o=n(17),i=n(16),d=(n(81),n(70)),u="SET_BOUNDS",j="SET_ROADS",p="SET_FILTER",b="SET_INFORMATION",f={roads:null,bounds:null,filter:null,information:null};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return t.type===u&&(e.bounds=t.payload),t.type===j&&(e.roads=t.payload),t.type===p&&(e.filter=t.payload),t.type===b&&(e.information=t.payload),e},y=Object(d.a)(m),h=function(e){return{type:u,payload:e}},O=function(e){return{type:p,payload:e}},x=function(e){return{type:b,payload:e}},g=n(3),v=function(e){var t=e.road,n=t.incidents;return Object(g.jsxs)("div",{className:"road ".concat(t.type,"-road"),onClick:function(e){e.target.classList.contains("roadwork")||e.target.classList.contains("jam")||e.target.closest(".road").classList.toggle("active")},"aria-hidden":"true",children:[Object(g.jsx)("span",{className:"name",children:t.name}),Object(g.jsxs)("span",{className:"icons",children:[Object(g.jsxs)("div",{className:"roadworks",children:[Object(g.jsx)(o.a,{icon:i.b})," ",Object(g.jsx)("span",{className:"number",children:t.roadwork_amount.length?t.roadwork_amount[0].count:0})]}),Object(g.jsxs)("div",{className:"jams",children:[Object(g.jsx)(o.a,{icon:i.a})," ",Object(g.jsx)("span",{className:"number",children:t.jam_amount.length?t.jam_amount[0].count:0})]})]}),Object(g.jsx)("span",{className:"quickinfo",children:n.length?n.map((function(e){return Object(g.jsxs)("div",{className:e.type,onClick:function(){!function(e){var t=e.road,n=e.bounds,a=e.type,l=e.from,s=e.to,c=e.reason,r=e.delay,o=e.distance;y.dispatch(h(n)),y.dispatch(x({road:null!==t&&void 0!==t?t:null,type:null!==a&&void 0!==a?a:null,from:null!==l&&void 0!==l?l:null,to:null!==s&&void 0!==s?s:null,reason:null!==c&&void 0!==c?c:null,delay:null!==r&&void 0!==r?r:null,distance:null!==o&&void 0!==o?o:null}))}(e)},"aria-hidden":"true",children:[Object(g.jsx)(o.a,{icon:"roadwork"===e.type?i.b:i.a})," Van ",e.from.label," tot ",e.to.label]},t.extid)})):""})]})},T=(n(83),function(){var e=Object(r.b)((function(e){return e.roads}));return Object(g.jsxs)("aside",{id:"sidebar",children:[Object(g.jsx)("h2",{children:"Verkeersinformatie"}),e?e.map((function(e){return e.incidents.length>0?Object(g.jsx)(v,{road:e},e.name):null})):""]})}),w=(n(84),function(){return Object(g.jsx)("div",{id:"loading",children:Object(g.jsxs)("h2",{children:[Object(g.jsx)(o.a,{icon:i.c,spin:!0})," Laden..."]})})}),N=n(27),k=n(66),L=n.n(k),F=n(41),E=Object(F.GoogleApiWrapper)({apiKey:"AIzaSyA3QGxol-EFFIQZgZnu0zTJPVkgxvnFJhU"})((function(e){var t=e.google,n=[],l=Object(r.b)((function(e){return e.roads})),s=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],c=Object(a.useState)(new t.maps.LatLngBounds),o=Object(N.a)(c,2),i=o[0],d=o[1],u=Object(r.b)((function(e){return e.bounds})),j=function(){void 0!==l&&l.forEach((function(e){var t=e.incidents;t.length&&t.forEach((function(e){if(null!==e.polyline){var t=L()(e.polyline);n.push({id:e.id,type:e.type,line:t})}e.bounds.lat&&e.bounds.lng&&null===u&&i.extend(e.bounds)}))}))};return Object(a.useEffect)((function(){null!==u?d(new t.maps.LatLngBounds(new t.maps.LatLng(u.southWest),new t.maps.LatLng(u.northEast))):(d(new t.maps.LatLngBounds(new t.maps.LatLng({lat:50.803721015,lng:3.31497114423}),new t.maps.LatLng({lat:53.5104033474,lng:7.09205325687}))),j())}),[u]),j(),Object(g.jsx)(F.Map,{google:t,bounds:i,zoom:8,initialCenter:{lat:52.1326,lng:5.2913},onReady:function(e,t){!function(e,t){t.setOptions({styles:s})}(0,t)},children:n.map((function(e){return Object(g.jsx)(F.Polyline,{path:e.line,strokeColor:"roadwork"===e.type?"#F79F1F":"#EA2027",strokeWeight:3},e.id)}))})})),S=n(54),_=n.n(S),C=n(69);n(100),n(101);Object(S.registerLocale)("nl",C.a);var M=function(){var e=Object(a.useState)(new Date),t=Object(N.a)(e,2),n=t[0],l=t[1],s=new Date;return Object(g.jsxs)("div",{id:"filter",children:[Object(g.jsx)("h2",{children:"Filter op datum en tijd"}),Object(g.jsx)(_.a,{selected:n,onChange:function(e){l(e),y.dispatch(O(e)),y.dispatch(h(null)),y.dispatch(x(null))},showTimeSelect:!0,dateFormat:"d MMMM, yyyy HH:mm",locale:"nl",maxDate:s,isClearable:!0})]})},A=(n(159),function(){var e=Object(r.b)((function(e){return e.information})),t=Object(a.useState)(null),n=Object(N.a)(t,2),l=n[0],s=n[1];return Object(a.useEffect)((function(){s(e)}),[e]),Object(g.jsx)("div",{id:"information-card",children:null!==l?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h3",{children:[l.road," (","roadwork"===l.type?"Wegwerkzaamheden":"File",") ",Object(g.jsx)(o.a,{icon:i.d,onClick:function(){y.dispatch(x(null)),y.dispatch(h(null)),y.dispatch(O(null))},className:"close"})]}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("span",{className:"title",children:"Van:"}),Object(g.jsx)("span",{className:"value",children:l.from.label})]}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("span",{className:"title",children:"Tot:"}),Object(g.jsx)("span",{className:"value",children:l.to.label})]}),l.distance&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("span",{className:"title",children:"Lengte:"}),Object(g.jsxs)("span",{className:"value",children:[l.distance/1e3," km"]})]})}),l.delay&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("span",{className:"title",children:"Vertraging:"}),Object(g.jsxs)("span",{className:"value",children:[l.delay/60," minuten"]})]})}),l.reason&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("span",{className:"title",children:"Reden:"}),Object(g.jsx)("span",{className:"value",children:l.reason})]})})]})]}):Object(g.jsx)("h3",{children:"Geen incident geselecteerd"})})});n(160);var I=function(){var e=Object(r.b)((function(e){return e.roads})),t=Object(r.b)((function(e){return e.filter}));return Object(a.useEffect)((function(){var e=new URLSearchParams({filter:t});fetch("/data/get?".concat(e.toString())).then((function(e){return e.json()})).then((function(e){return y.dispatch({type:j,payload:e})}))}),[t]),Object(g.jsx)("div",{id:"app",children:e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(T,{}),Object(g.jsx)(E,{}),Object(g.jsx)(M,{}),Object(g.jsx)(A,{})]}):Object(g.jsx)(w,{})})};y.subscribe((function(){})),c.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(r.a,{store:y,children:Object(g.jsx)(I,{})})}),document.getElementById("root"))},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[161,1,2]]]);
//# sourceMappingURL=main.fe20e1d4.chunk.js.map